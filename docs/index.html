<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>尋找負責的立法委員</title>
</head>
<body>
  <h1>透過座標尋找負責的立法委員</h1>
  <a href="https://github.com/Disfactory/findTaiwanLegislator/blob/master/README.md">API 文件</a>
  <form style="margin-top: 20px">
    <label>
      經度
      <input type="number" id="lat" value="24.9880455">
    </label>
    <label>
      緯度
      <input type="number" id="lng" value="121.5526163">
    </label>
    <input type="submit" value="送出">
  </form>
  <textarea style="width: 100%; height: 300px;"></textarea>
  <script>
    document.querySelector('form').addEventListener('submit', (e) => {
      e.preventDefault()
      const lng = Number(document.querySelector('#lng').value)
      const lat = Number(document.querySelector('#lat').value)

      fetch('https://ftl.disfactory.tw/?lng='+lng+'&lat='+lat)
      .then((res) => res.text())
      .then((data) => {
        document.querySelector('textarea').value = JSON.stringify(data, null, 2)
      })
    })
  </script>
</body>
</html>